{"version":3,"sources":["V57.js"],"names":["shoppingForm","document","querySelector","shoppingList","items","handleSubmit","event","preventDefault","name","target","item","value","trim","alert","id","Date","now","complete","push","reset","dispatchEvent","CustomEvent","displayItems","html","map","concat","join","innerHTML","deleteItem","filter","markAsComplete","itemRef","find","mirrorToLocalStorage","localStorage","setItem","JSON","stringify","restoreFromLocalStorage","lsItems","parse","getItem","console","log","length","_items","apply","_toConsumableArray","addEventListener","matches","parseInt"],"mappings":"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","file":"V57.f9412320.js","sourceRoot":"..","sourcesContent":["const shoppingForm = document.querySelector('.shopping');\nconst shoppingList = document.querySelector('.list');\n\n// Holds the state of the application in an array - (the items we input)\nlet items = [];\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    const name = event.target.item.value.trim();\n    if(!name) return alert('noname');\n\n    const item ={\n        name: name,\n        id: Date.now(),\n        complete: false,      \n    };\n\n    items.push(item);\n    \n    event.target.reset();\n    \n    //  fire off a custom event to tell others that the items have been updated\n    shoppingList.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction displayItems() {\n    const html = items\n    .map(\n        item => `<li class=\"shopping-item\">\n        <input \n        type=\"checkbox\" \n        value=\"${item.id}\"\n        ${item.complete && 'checked'}\n        \">\n        <span class=\"itemName\">${item.name}</span>\n        <button \n        aria-label=\"Remove ${item.name}\"\n        value=\"${item.id}\"\n        >&times;</>\n    </li>`).join('');\n    shoppingList.innerHTML = html;\n}\n\nfunction deleteItem(id) {\n    // items.forEach(itemO => {\n    //     if(itemO.id == id){\n    //     let itemIndex = items.indexOf(itemO);\n    //     items.splice(itemIndex, 1);\n    // }});\n\n    items = items.filter(item => item.id !== id);\n \n    shoppingList.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction markAsComplete(id){\n    const itemRef = items.find(item => item.id === id);\n    itemRef.complete = !itemRef.complete;\n\n    shoppingList.dispatchEvent(new CustomEvent('itemsUpdated'));\n}\n\nfunction mirrorToLocalStorage() {\n    localStorage.setItem('items', JSON.stringify(items));\n    \n}\n\nfunction restoreFromLocalStorage() {\n    const lsItems = JSON.parse(localStorage.getItem('items'));\n    console.log(lsItems);\n    if(lsItems.length){\n      items.push(...lsItems);  \n      shoppingList.dispatchEvent(new CustomEvent('itemsUpdated'));\n    }\n}\n\nshoppingForm.addEventListener('submit', handleSubmit);\nshoppingList.addEventListener('itemsUpdated', displayItems);\n\nshoppingList.addEventListener('itemsUpdated', mirrorToLocalStorage);\n\n//Listens to the list for click but only works if clicked on a button\nshoppingList.addEventListener('click', function(event){\n    if(event.target.matches('button')){\n        deleteItem(parseInt(event.target.value));\n    }\n    if(event.target.matches('input[type=\"checkbox\"]')){\n        markAsComplete(parseInt(event.target.value));\n    }\n});\n\n\nrestoreFromLocalStorage();"]}